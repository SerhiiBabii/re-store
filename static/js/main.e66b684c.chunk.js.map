{"version":3,"sources":["components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/bookstore-service-context/bookstore-service-context.js","components/hoc/withBookstoreService.js","actions/index.js","utils/compose.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/book-list/book-list.js","components/book-list/index.js","components/shopping-cart-table/index.js","components/shopping-cart-table/shopping-cart-table.js","components/pages/home-page.js","components/pages/cart-page.js","components/shop-header/index.js","components/shop-header/shop-header.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/bookstore-service.js","reducers/book-list.js","reducers/shopping-cart.js","reducers/index.js","store.js","index.js"],"names":["BookListItem","book","onAddedToCart","title","author","price","coverImage","className","src","alt","onClick","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","bookstoreService","bookAddedToCart","bookId","type","payload","fetchBooks","dispatch","getBooks","then","data","catch","error","booksError","compose","funcs","comp","reduceRight","wrapped","f","Spinner","ErrorIndicator","BookList","books","map","key","id","BookListContainer","this","loading","Component","connect","bookList","ShoppingCartTable","shoppingCart","items","cartItems","total","orderTotal","onDecrease","onIncrease","onDelete","isImage","item","index","count","HomePage","CartPage","ShopHeader","numItems","to","App","quantityTotal","role","exact","path","component","ErrorBoundry","state","hasError","setState","children","BookstoreService","Promise","resolve","reject","setTimeout","updateBookList","action","undefined","updateCartItems","slice","updateTotalPrice","quantity","totalCount","updateTotalQuantity","totalQuantity","updateOrder","find","itemIndex","findIndex","newItem","toFixed","updateCartItem","updateShoppingCart","reducer","store","createStore","ReactDOM","render","value","basename","document","getElementById"],"mappings":"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","file":"static/js/main.e66b684c.chunk.js","sourcesContent":["import BookListItem from \"./book-list-item\";\r\n\r\nexport default BookListItem;\r\n","import React from \"react\";\r\n\r\nimport \"./book-list-item.css\";\r\n\r\nconst BookListItem = ({ book, onAddedToCart }) => {\r\n  const { title, author, price, coverImage } = book;\r\n  return (\r\n    <div className=\"book-list-item\">\r\n      <div className=\"book-cover\">\r\n        <img src={coverImage} alt=\"cover\" />\r\n      </div>\r\n      <div className=\"book-details\">\r\n        <span className=\"book-title\">{title}</span>\r\n        <div className=\"book-author\">{author}</div>\r\n        <div className=\"book-price\">${price}</div>\r\n        <button onClick={onAddedToCart} className=\"btn btn-info add-to-cart\">\r\n          Add to cart\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookListItem;\r\n","import React from \"react\";\r\n\r\nconst {\r\n  Provider: BookstoreServiceProvider,\r\n  Consumer: BookstoreServiceConsumer\r\n} = React.createContext();\r\n\r\nexport { BookstoreServiceProvider, BookstoreServiceConsumer };\r\n","import React from \"react\";\r\nimport { BookstoreServiceConsumer } from \"../bookstore-service-context\";\r\n\r\nconst withBookstoreService = () => Wrapped => {\r\n  return props => {\r\n    return (\r\n      <BookstoreServiceConsumer>\r\n        {bookstoreService => {\r\n          return <Wrapped {...props} bookstoreService={bookstoreService} />;\r\n        }}\r\n      </BookstoreServiceConsumer>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withBookstoreService;\r\n","const booksRequested = () => {\r\n  return {\r\n    type: \"FETCH_BOOKS_REQUEST\"\r\n  };\r\n};\r\n\r\nconst booksLoaded = newBooks => {\r\n  return {\r\n    type: \"FETCH_BOOKS_SUCCESS\",\r\n    payload: newBooks\r\n  };\r\n};\r\n\r\nconst booksError = error => {\r\n  return {\r\n    type: \"FETCH_BOOKS_FAILURE\",\r\n    payload: error\r\n  };\r\n};\r\n\r\nconst bookAddedToCart = bookId => {\r\n  return {\r\n    type: \"BOOK_ADDED_TO_CART\",\r\n    payload: bookId\r\n  };\r\n};\r\n\r\nconst bookDeletedFromCart = bookId => {\r\n  return {\r\n    type: \"BOOK_DELETED_FROM_CART\",\r\n    payload: bookId\r\n  };\r\n};\r\n\r\nconst bookDecreasedFromCart = bookId => {\r\n  return {\r\n    type: \"BOOK_DECREASED_FROM_CART\",\r\n    payload: bookId\r\n  };\r\n};\r\n\r\nconst fetchBooks = (bookstoreService, dispatch) => () => {\r\n  dispatch(booksRequested());\r\n  bookstoreService\r\n    .getBooks()\r\n    .then(data => {\r\n      dispatch(booksLoaded(data));\r\n    })\r\n    .catch(error => dispatch(booksError(error)));\r\n};\r\n\r\nexport {\r\n  fetchBooks,\r\n  bookAddedToCart,\r\n  bookDeletedFromCart,\r\n  bookDecreasedFromCart\r\n};\r\n","const compose = (...funcs) => comp => {\r\n  return funcs.reduceRight((wrapped, f) => f(wrapped), comp);\r\n};\r\n\r\nexport default compose;\r\n","import Spinner from \"./spinner\";\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\n\r\nimport \"./spinner.css\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"lds-css ng-scope\">\r\n      <div className=\"lds-wedges\">\r\n        <div>\r\n          <div>\r\n            <div></div>\r\n          </div>\r\n          <div>\r\n            <div></div>\r\n          </div>\r\n          <div>\r\n            <div></div>\r\n          </div>\r\n          <div>\r\n            <div></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import ErrorIndicator from \"./error-indicator\";\r\n\r\nexport default ErrorIndicator;\r\n","import React from \"react\";\r\n\r\nimport \"./error-indicator.css\";\r\n\r\nconst ErrorIndicator = () => {\r\n  return (\r\n    <div>\r\n      <span>Something has gone terribly wrong</span>\r\n      <span>(but we already sent men to fix it)</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorIndicator;\r\n","import React, { Component } from \"react\";\r\nimport BookListItem from \"../book-list-item\";\r\nimport { connect } from \"react-redux\";\r\nimport { withBookstoreService } from \"../hoc\";\r\nimport { fetchBooks, bookAddedToCart } from \"../../actions\";\r\nimport { compose } from \"../../utils\";\r\nimport Spinner from \"../spinner\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nimport \"./book-list.css\";\r\n\r\nconst BookList = ({ books, onAddedToCart }) => {\r\n  return (\r\n    <ul className=\"book-list\">\r\n      {books.map(book => {\r\n        return (\r\n          <li key={book.id}>\r\n            <BookListItem\r\n              book={book}\r\n              onAddedToCart={() => onAddedToCart(book.id)}\r\n            />\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\nclass BookListContainer extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchBooks();\r\n  }\r\n\r\n  render() {\r\n    const { books, loading, error, onAddedToCart } = this.props;\r\n    if (loading) {\r\n      return <Spinner />;\r\n    }\r\n    if (error) {\r\n      return <ErrorIndicator />;\r\n    }\r\n    return <BookList books={books} onAddedToCart={onAddedToCart} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ bookList: { books, loading, error } }) => {\r\n  return {\r\n    books,\r\n    loading,\r\n    error\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, { bookstoreService }) => {\r\n  return {\r\n    fetchBooks: fetchBooks(bookstoreService, dispatch),\r\n    onAddedToCart: id => dispatch(bookAddedToCart(id))\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  withBookstoreService(),\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n)(BookListContainer);\r\n","import BookListContainer from \"./book-list\";\r\n\r\nexport default BookListContainer;\r\n","import ShoppingCartTable from \"./shopping-cart-table\";\n\nexport default ShoppingCartTable;\n","import React from \"react\";\nimport \"./shopping-cart-table.css\";\nimport { connect } from \"react-redux\";\nimport {\n  bookDeletedFromCart,\n  bookAddedToCart,\n  bookDecreasedFromCart\n} from \"../../actions\";\n\nconst ShoppingCartTable = ({\n  items,\n  total,\n  onIncrease,\n  onDecrease,\n  onDelete,\n  isImage\n}) => {\n  const renderRow = (item, index) => {\n    const { id, title, count, total, coverImage } = item;\n    return (\n      <tr key={id}>\n        <td>{index + 1}</td>\n        {isImage ? (\n          <td>\n            <img className=\"h-50 p-2\" src={coverImage} alt=\"CoverImage\" />\n          </td>\n        ) : null}\n        <td>{title}</td>\n        <td>{count}</td>\n        <td>${total}</td>\n        <td>\n          <button\n            onClick={() => onDelete(id)}\n            className=\"btn btn-outline-danger btn-sm float-right\"\n          >\n            <i className=\"fa fa-trash-o\" />\n          </button>\n          <button\n            onClick={() => onIncrease(id)}\n            className=\"btn btn-outline-success btn-sm float-right\"\n          >\n            <i className=\"fa fa-plus-circle\" />\n          </button>\n          <button\n            onClick={() => onDecrease(id)}\n            className=\"btn btn-outline-warning btn-sm float-right\"\n          >\n            <i className=\"fa fa-minus-circle\" />\n          </button>\n        </td>\n      </tr>\n    );\n  };\n  return (\n    <div className=\"shopping-cart-table\">\n      <h2>Your Order</h2>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            {isImage ? <th>Image</th> : null}\n            <th>Item</th>\n            <th>Count</th>\n            <th>Total</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n\n        <tbody>{items.map(renderRow)}</tbody>\n      </table>\n\n      <div className=\"total\">Total: ${total}</div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ shoppingCart: { cartItems, orderTotal } }) => {\n  return {\n    items: cartItems,\n    total: orderTotal\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onDecrease: id => {\n      dispatch(bookDecreasedFromCart(id));\n    },\n    onIncrease: id => {\n      dispatch(bookAddedToCart(id));\n    },\n    onDelete: id => {\n      dispatch(bookDeletedFromCart(id));\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ShoppingCartTable);\n","import React from \"react\";\r\nimport BookListContainer from \"../book-list\";\r\nimport ShoppingCartTable from \"../shopping-cart-table\";\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <div>\r\n      <BookListContainer />\r\n      <ShoppingCartTable />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import React from \"react\";\r\nimport ShoppingCartTable from \"../shopping-cart-table\";\r\n\r\nconst CartPage = () => {\r\n  return (\r\n    <div>\r\n      <h2>Card page</h2>\r\n      <ShoppingCartTable isImage={true} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartPage;\r\n","import ShopHeader from './shop-header';\n\nexport default ShopHeader;","import React from \"react\";\nimport \"./shop-header.css\";\nimport { Link } from \"react-router-dom\";\n\nconst ShopHeader = ({ numItems, total }) => {\n  return (\n    <header className=\"shop-header row\">\n      <Link to=\"/\">\n        <div className=\"logo text-dark\">ReStore</div>\n      </Link>\n      <Link to=\"/cart\">\n        <div className=\"shopping-cart\">\n          <i className=\"cart-icon fa fa-shopping-cart\" />\n          {numItems} items (${total})\n        </div>\n      </Link>\n    </header>\n  );\n};\n\nexport default ShopHeader;\n","import App from \"./app\";\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { HomePage, CartPage } from \"../pages\";\r\nimport ShopHeader from \"../shop-header\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport \"./app.css\";\r\n\r\nconst App = ({ numItems, total }) => {\r\n  return (\r\n    <main role=\"main\" className=\"container\">\r\n      <ShopHeader numItems={numItems} total={total} />\r\n      <Switch>\r\n        <Route exact path=\"/\" component={HomePage} />\r\n        <Route path=\"/cart\" component={CartPage} />\r\n      </Switch>\r\n    </main>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ shoppingCart: { orderTotal, quantityTotal } }) => {\r\n  return {\r\n    numItems: quantityTotal,\r\n    total: orderTotal\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","import ErrorBoundry from \"./error-boundry\";\r\n\r\nexport default ErrorBoundry;\r\n","import React, { Component } from \"react\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nexport default class ErrorBoundry extends Component {\r\n  state = {\r\n    hasError: false\r\n  };\r\n\r\n  componentDidCatch() {\r\n    this.setState({\r\n      hasError: true\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <ErrorIndicator />;\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n","export default class BookstoreService {\r\n  data = [\r\n    {\r\n      id: 1,\r\n      title: \"Learning React: Functional Web Development with React and Redux\",\r\n      author: \"Alex Banks, Eve Porcello\",\r\n      price: 49.99,\r\n      coverImage:\r\n        \"https://images-na.ssl-images-amazon.com/images/I/51FHuacxYjL._SX379_BO1,204,203,200_.jpg\"\r\n    },\r\n    {\r\n      id: 2,\r\n      title:\r\n        \"MongoDB: The Definitive Guide: Powerful and Scalable Data Storage\",\r\n      author: \"Kristina Chodorow\",\r\n      price: 49.99,\r\n      coverImage:\r\n        \"https://images-na.ssl-images-amazon.com/images/I/51c%2BBWRdqmL._SX379_BO1,204,203,200_.jpg\"\r\n    },\r\n    {\r\n      id: 3,\r\n      title: \"React Native Cookbook: Bringing the Web to Native Platforms\",\r\n      author: \"Jonathan Lebensold\",\r\n      price: 33.99,\r\n      coverImage:\r\n        \"https://images-na.ssl-images-amazon.com/images/I/51j3Rdi8ciL._SX379_BO1,204,203,200_.jpg\"\r\n    },\r\n    {\r\n      id: 4,\r\n      title:\r\n        \"Learning React Native: Building Native Mobile Apps with JavaScript\",\r\n      author: \"Bonnie Eisenman\",\r\n      price: 50.99,\r\n      coverImage:\r\n        \"https://images-na.ssl-images-amazon.com/images/I/518ctEpEw1L._SX379_BO1,204,203,200_.jpg\"\r\n    }\r\n  ];\r\n  getBooks() {\r\n    return new Promise((resolve, reject) => {\r\n      setTimeout(() => {\r\n        // if (Math.random() > 0.75) { // this line for testing errors, next line for working project\r\n        if (true) {\r\n          resolve(this.data);\r\n        } else {\r\n          reject(new Error(\"Somethis bad happen!\"));\r\n        }\r\n      }, 1000);\r\n    });\r\n  }\r\n}\r\n","const updateBookList = (state, action) => {\r\n  if (state === undefined) {\r\n    return {\r\n      books: [],\r\n      loading: true,\r\n      error: null\r\n    };\r\n  }\r\n  switch (action.type) {\r\n    case \"FETCH_BOOKS_REQUEST\":\r\n      return {\r\n        books: [],\r\n        loading: true,\r\n        error: null\r\n      };\r\n\r\n    case \"FETCH_BOOKS_SUCCESS\":\r\n      return {\r\n        books: action.payload,\r\n        loading: false,\r\n        error: null\r\n      };\r\n\r\n    case \"FETCH_BOOKS_FAILURE\":\r\n      return {\r\n        books: [],\r\n        loading: false,\r\n        error: action.payload\r\n      };\r\n    default:\r\n      return state.bookList;\r\n  }\r\n};\r\n\r\nexport default updateBookList;\r\n","const updateCartItems = (cartItems, item, index) => {\r\n  if (item.count === 0) {\r\n    return [...cartItems.slice(0, index), ...cartItems.slice(index + 1)];\r\n  }\r\n\r\n  if (index === -1) {\r\n    return [...cartItems, item];\r\n  } else {\r\n    return [...cartItems.slice(0, index), item, ...cartItems.slice(index + 1)];\r\n  }\r\n};\r\n\r\nconst updateTotalPrice = (cartItems, book, quantity) => {\r\n  let totalCount = 0;\r\n  cartItems.map(book => {\r\n    return (totalCount += book.total);\r\n  });\r\n  return totalCount + book.price * quantity;\r\n};\r\n\r\nconst updateTotalQuantity = (cartItems, quantity) => {\r\n  let totalQuantity = 0;\r\n  cartItems.map(book => {\r\n    return (totalQuantity += book.count);\r\n  });\r\n  return totalQuantity + quantity;\r\n};\r\n\r\nconst updateCartItem = (book, item = {}, quantity) => {\r\n  const { id = book.id, count = 0, title = book.title, total = 0 } = item;\r\n  const price = total + quantity * book.price;\r\n  return {\r\n    id,\r\n    count: count + quantity,\r\n    title,\r\n    coverImage: book.coverImage,\r\n    total: +price.toFixed(2)\r\n  };\r\n};\r\n\r\nconst updateOrder = (state, bookId, quantity) => {\r\n  const {\r\n    bookList: { books },\r\n    shoppingCart: { cartItems }\r\n  } = state;\r\n\r\n  const book = books.find(item => item.id === bookId);\r\n  const itemIndex = cartItems.findIndex(({ id }) => id === bookId);\r\n  const item = cartItems[itemIndex];\r\n  const newItem = updateCartItem(book, item, quantity);\r\n\r\n  return {\r\n    cartItems: updateCartItems(cartItems, newItem, itemIndex),\r\n    orderTotal: updateTotalPrice(cartItems, book, quantity).toFixed(2),\r\n    quantityTotal: updateTotalQuantity(cartItems, quantity)\r\n  };\r\n};\r\n\r\nconst updateShoppingCart = (state, action) => {\r\n  if (state === undefined) {\r\n    return {\r\n      cartItems: [],\r\n      orderTotal: 0,\r\n      quantityTotal: 0\r\n    };\r\n  }\r\n\r\n  switch (action.type) {\r\n    case \"BOOK_ADDED_TO_CART\":\r\n      return updateOrder(state, action.payload, 1);\r\n\r\n    case \"BOOK_DELETED_FROM_CART\":\r\n      const item = state.shoppingCart.cartItems.find(\r\n        ({ id }) => id === action.payload\r\n      );\r\n      return updateOrder(state, action.payload, -item.count);\r\n\r\n    case \"BOOK_DECREASED_FROM_CART\":\r\n      return updateOrder(state, action.payload, -1);\r\n\r\n    default:\r\n      return state.shoppingCart;\r\n  }\r\n};\r\n\r\nexport default updateShoppingCart;\r\n","import updateBookList from \"./book-list\";\r\nimport updateShoppingCart from \"./shopping-cart\";\r\n\r\nconst reducer = (state, action) => {\r\n  return {\r\n    bookList: updateBookList(state, action),\r\n    shoppingCart: updateShoppingCart(state, action)\r\n  };\r\n};\r\n\r\nexport default reducer;\r\n","import { createStore } from \"redux\";\r\nimport reducer from \"./reducers\";\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n// import { BrowserRouter as Router } from \"react-router-dom\";\nimport { HashRouter as Router } from \"react-router-dom\"; // for git-page\n\nimport App from \"./components/app\";\nimport ErrorBoudry from \"./components/error-boundry\";\nimport BookstoreService from \"./services/bookstore-service\";\nimport { BookstoreServiceProvider } from \"./components/bookstore-service-context\";\n\nimport store from \"./store\";\n\nconst bookstoreService = new BookstoreService();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoudry>\n      <BookstoreServiceProvider value={bookstoreService}>\n        <Router basename=\"/\">\n          <App />\n        </Router>\n      </BookstoreServiceProvider>\n    </ErrorBoudry>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}